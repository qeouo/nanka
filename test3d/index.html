<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="ja" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<!-- meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" /-->


<script type="text/javascript" src="../lib/vector.js"></script>
<script type="text/javascript" src="../lib/geono.js"></script>
<script type="text/javascript" src="../lib/util.js"></script>
<script type="text/javascript" src="../lib/rastono.js"></script>
<script type="text/javascript" src="../lib/rastc2d.js"></script>
<script type="text/javascript" src="../lib/ono3d.js"></script>
<script type="text/javascript" src="../lib/onophy.js"></script>
<script type="text/javascript" src="../lib/o3o.js"></script>
<script type="text/javascript" src="../lib/objman.js"></script>
<script type="text/javascript" src="../lib/rastgl.js"></script>
<script type="text/javascript" src="../lib/slider.js"></script>
<script type="text/javascript" src="../lib/colorpicker.js"></script>
<style type="text/css">
html,body { height:100%;margin:0; }
</style>
<script type="text/javascript">
var pickerflg=false;
	var onl=function(){
		if(globalParam.physics){
			globalParam.physics=false;
			checkbox=document.getElementById("chkPhy");
			checkbox.checked=true;
		}
		if(globalParam.stereomode==-1){
			checkbox=document.getElementById("parallel");
		}else{
			checkbox=document.getElementById("cross");
		}
		checkbox.checked=1;
		if(globalParam.shadow){
			document.getElementById("shadow").checked=true;
		}
			

		document.getElementById("txtSmoothing").value=globalParam.smoothing;
		document.getElementById("txtOutlineWidth").value=globalParam.outlineWidth;
		document.getElementById("outlineColor").value=globalParam.outlineColor;
		document.getElementById("lightcol1").value=globalParam.lightcol1;
		document.getElementById("lightcol2").value=globalParam.lightcol2;
		document.getElementById("txtlightThreshold1").value=globalParam.lightThreshold1;
		document.getElementById("txtlightThreshold2").value=globalParam.lightThreshold2;
		document.getElementById("txtStereo").value=globalParam.stereoscope;
		document.getElementById("scene").value=globalParam.scene;

		Util.fireEvent(document.getElementById("chkPhy"),"change");
		Util.fireEvent(document.getElementById("txtSmoothing"),"change");
		Util.fireEvent(document.getElementById("txtOutlineWidth"),"change");
		Util.fireEvent(document.getElementById("outlineColor"),"change");
		Util.fireEvent(document.getElementById("txtStereo"),"change");
		Util.fireEvent(document.getElementById("lightcol1"),"change");
		Util.fireEvent(document.getElementById("lightcol2"),"change");
		Util.fireEvent(document.getElementById("txtlightThreshold1"),"change");
		Util.fireEvent(document.getElementById("txtlightThreshold2"),"change");
		Util.fireEvent(document.getElementById("scene"),"change");
		Util.fireEvent(document.getElementById("shadow"),"change");

		var userAgent = window.navigator.userAgent.toLowerCase();
		if (navigator.platform.indexOf("Win") != -1) {
			globalParam.windows=true;
		}else{
			globalParam.windows=false;
		}
	}

</script>

</head>
<body onload="onl();" style="height:100%;">
<div style="width:100%;height:100%;">
<span id="cons"></span>

<pre>
＜説明が入る＞
</pre>
<div  id="control" style="float:left;" >
<div style="float:left;margin:10px;"> 
法線補間<input class="slider" id="Smoothing" onchange="globalParam.smoothing=parseFloat(this.value)"/><br />
光源色1<input class="colorpicker" id="lightcol1" onchange="globalParam.lightcol1=this.value"/><br />
光源色2<input class="colorpicker" id="lightcol2"  onchange="globalParam.lightcol2=this.value"/><br />
セル塗り閾値1<input class="slider" id="lightThreshold1"  onchange="globalParam.lightThreshold1=parseFloat(this.value)"/><br />
セル塗り閾値2<input class="slider" id="lightThreshold2" onchange="globalParam.lightThreshold2=parseFloat(this.value)"/><br />
</div>
<div style="float:left;">
<label><input type="checkbox" id="chkPhy" onchange="globalParam.physics=(this.checked);"/>物理シミュ</label><br />
輪郭線太さ<input class="slider" id="OutlineWidth" max="4" onchange="globalParam.outlineWidth=parseFloat(this.value)"/><br />
輪郭線色<input class="colorpicker" id="outlineColor"  onchange="globalParam.outlineColor=this.value"/><br />
立体度<input class="slider" id="Stereo" max="2" onchange="globalParam.stereoscope=parseFloat(this.value)"/><br />
<label><input type="radio" id="notstereo" name="q1" value="0" onchange="globalParam.stereomode=parseFloat(this.value)"> 非立体視</label>
<label><input type="radio" id="cross" name="q1" value="1" onchange="globalParam.stereomode=parseFloat(this.value)"> 交差法</label>
<label><input type="radio" id="parallel" name="q1" value="-1" onchange="globalParam.stereomode=parseFloat(this.value)"> 平行法</label>
</div>
<div style="float:left;">
シーン(衣装)<select id="scene"  onchange="globalParam.scene=parseInt(this.value);Test3d.changeScene();">
</select><br />
<label><input type="checkbox" id="shadow" onchange="globalParam.shadow=(this.checked);"/>影</label><br />

</div>
</div>
<div style="clear:both;left:0;right:0;margin:0 auto;width:720px;height:720px;">
<script type="text/javascript" src="./test3d.js"> </script>
</div>
</div>
</body>
</html>

